<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Learn-DA</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Your CSS -->
  <link href="/static/styles.css" rel="stylesheet">

  <!-- MathJax (for equations) -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)']], displayMath: [['\\[','\\]']] },
      options: { skipHtmlTags: ['script','noscript','style','textarea','pre','code'] }
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body class="text-white">

  <div class="container py-5">

    <!-- HERO LOGO (TOP CENTER) -->
    <div class="text-center mb-3">
    <img
        src="/static/logo.png"
        alt="Learn-DA logo"
        class="img-fluid hero-logo"
    >
    </div>


    <!-- HERO HEADER -->
    <div class="text-center mb-4">

      <div class="d-flex justify-content-center gap-2 flex-wrap mb-2">
        <span class="badge rounded-pill badge-soft">Learn Data Assimilation</span>
        <span class="badge rounded-pill badge-soft-alt">Course · PyTEDA · Forecasting (WRF)</span>
      </div>

      <div class="muted">
        A lightweight platform for learning and experimenting with data assimilation — from theory to interactive practice.
      </div>

    </div>


    <!-- WELCOME / EXPLANATION BLOCK -->
    <div class="glass rounded-4 p-4 mb-4">

      <div class="h4 mb-2">Welcome to Learn-DA</div>

      <div class="muted mb-3">
        Whether you are an <b>undergraduate</b> discovering the basics,
        a <b>master’s student</b> building technical skills,
        or a <b>PhD student</b> working on research-grade methods,
        Learn-DA brings together the core resources to learn
        data assimilation and apply it in practice.
      </div>

      <div class="muted mb-3">
        Data assimilation combines a dynamical model with observations
        to estimate the true state of a system while explicitly tracking
        uncertainty. Models are imperfect and observations are noisy,
        so the update step blends both sources of information in a principled way.
      </div>

      <div class="muted mb-3">
        The workflow is a repeated cycle:
        <b>forecast</b> →
        <b>observe</b> →
        <b>update</b> →
        <b>repeat</b>.
        This is the engine behind numerical weather prediction, ocean forecasting, and many state-estimation problems.
      </div>

      <div class="muted mb-3">
        In a classic linear-Gaussian setting, the analysis update can be written as:
      </div>

      <div class="equation-box mb-3">
        \[
          x_a = x_b + K\,(y - Hx_b),
          \qquad
          K = P_b H^\top \left(H P_b H^\top + R\right)^{-1}.
        \]
      </div>

      <div class="muted mb-0">
        Here, \(x_b\) is the background (forecast), \(y\) are observations, \(H\) is the observation operator, and \(R\) represents
        observation uncertainty. Ensemble methods like <b>EnKF</b> and <b>LETKF</b> approximate these covariances using an ensemble and
        rely on practical ideas such as <b>localization</b> and <b>inflation</b> for stable, scalable performance.
      </div>

    </div>


    <!-- CARDS (6 total) -->
    <div class="row g-3">

      <!-- COURSE CARD -->
      <div class="col-md-6 col-xl-4">
        <a class="text-decoration-none" href="{{ course_url }}" target="_blank" rel="noopener">
          <div class="glass rounded-4 p-4 h-100 card-hover">

            <!-- header + chips -->
            <div class="d-flex justify-content-between align-items-start gap-3 mb-2">
              <div>
                <div class="h5 mb-1 text-white">Course</div>
                <div class="muted small">Structured learning path</div>
              </div>
              <div class="d-flex gap-2 flex-wrap justify-content-end">
                <span class="badge rounded-pill badge-soft">theory</span>
                <span class="badge rounded-pill badge-soft-alt">EnKF</span>
              </div>
            </div>

            <!-- IMAGE: WHITE + CONTAIN -->
            <div class="card-image-wrapper is-white mb-3">
              <img class="card-image-inner" src="/static/cards/course.jpg" alt="Course preview">
            </div>

            <div class="muted">
              Fundamentals → intuition → ensemble methods → diagnostics and practice.
            </div>

            <div class="mt-3 fw-semibold text-white">Go to course →</div>
          </div>
        </a>
      </div>

      <!-- PYTEDA CARD -->
      <div class="col-md-6 col-xl-4">
        <a class="text-decoration-none" href="{{ pyteda_url }}" target="_blank" rel="noopener">
          <div class="glass rounded-4 p-4 h-100 card-hover">

            <!-- header + chips -->
            <div class="d-flex justify-content-between align-items-start gap-3 mb-2">
              <div>
                <div class="h5 mb-1 text-white">PyTEDA</div>
                <div class="muted small">Interactive lab</div>
              </div>
              <div class="d-flex gap-2 flex-wrap justify-content-end">
                <span class="badge rounded-pill badge-soft-alt">lab</span>
                <span class="badge rounded-pill badge-soft">LETKF</span>
              </div>
            </div>

            <!-- IMAGE: WHITE + CONTAIN -->
            <div class="card-image-wrapper is-white mb-3">
              <img class="card-image-inner" src="/static/cards/pyteda.png" alt="PyTEDA preview">
            </div>

            <div class="muted">
              Run experiments in the browser and compare EnKF/LETKF behavior visually.
            </div>

            <div class="mt-3 fw-semibold text-white">Open PyTEDA →</div>
          </div>
        </a>
      </div>

      <!-- INSTALL CARD -->
      <div class="col-md-12 col-xl-4">
        <div class="glass rounded-4 p-4 h-100">
          <div class="d-flex justify-content-between align-items-start gap-3">
            <div>
              <div class="h5 mb-1">Install</div>
              <div class="muted small">Python package</div>
            </div>
            <div class="d-flex gap-2 flex-wrap justify-content-end">
              <span class="badge rounded-pill badge-soft">pip</span>
              <span class="badge rounded-pill badge-soft-alt">package</span>
            </div>
          </div>

          <!-- IMAGE: WHITE + CONTAIN -->
          <div class="card-image-wrapper is-white mt-2 mb-3">
            <img class="card-image-inner" src="/static/cards/pyteda.png" alt="Install preview">
          </div>

          <div class="muted mb-3">
            Install locally for notebooks, teaching demos, and reproducible workflows.
          </div>

          <div class="code-box">
            <code id="pipCmd">pip install {{ pip_pkg }}</code>
            <button class="btn btn-sm btn-outline-light ms-2" id="copyBtn" type="button">Copy</button>
          </div>

          <div class="muted mt-3 small" id="copyStatus" aria-live="polite"></div>
        </div>
      </div>

      <!-- COMING SOON: COLOMBIA -->
      <div class="col-md-6 col-xl-4">
        <div class="glass rounded-4 p-4 h-100 card-hover coming-soon">
          <div class="d-flex justify-content-between align-items-start gap-3">
            <div>
              <div class="h5 mb-1 text-white">Colombian Weather Forecast</div>
              <div class="muted small">WRF-based forecasting</div>
            </div>
            <div class="d-flex gap-2 flex-wrap justify-content-end">
              <span class="badge rounded-pill badge-soon">coming soon</span>
              <span class="badge rounded-pill badge-soft">WRF</span>
            </div>
          </div>

          <!-- IMAGE: DARK + COVER -->
          <div class="card-image-wrapper is-cover mt-2 mb-3">
            <img class="card-image-inner" src="/static/cards/coming-soon.png" alt="Coming soon preview">
          </div>

          <div class="muted">
            Operational-style WRF experiments and verification dashboards for Colombia.
          </div>
        </div>
      </div>

      <!-- COMING SOON: NORTH CARIBBEAN -->
      <div class="col-md-6 col-xl-4">
        <div class="glass rounded-4 p-4 h-100 card-hover coming-soon">
          <div class="d-flex justify-content-between align-items-start gap-3">
            <div>
              <div class="h5 mb-1 text-white">North Caribbean Weather Forecast</div>
              <div class="muted small">WRF-based forecasting</div>
            </div>
            <div class="d-flex gap-2 flex-wrap justify-content-end">
              <span class="badge rounded-pill badge-soon">coming soon</span>
              <span class="badge rounded-pill badge-soft">WRF</span>
            </div>
          </div>

          <!-- IMAGE: DARK + COVER -->
          <div class="card-image-wrapper is-cover mt-2 mb-3">
            <img class="card-image-inner" src="/static/cards/coming-soon.png" alt="Coming soon preview">
          </div>

          <div class="muted">
            Regional WRF forecasts and learning modules focused on the North Caribbean domain.
          </div>
        </div>
      </div>

      <!-- COMING SOON: BARRANQUILLA -->
      <div class="col-md-12 col-xl-4">
        <div class="glass rounded-4 p-4 h-100 card-hover coming-soon">
          <div class="d-flex justify-content-between align-items-start gap-3">
            <div>
              <div class="h5 mb-1 text-white">Barranquilla Weather Forecast</div>
              <div class="muted small">WRF + local hazards</div>
            </div>
            <div class="d-flex gap-2 flex-wrap justify-content-end">
              <span class="badge rounded-pill badge-soon">coming soon</span>
              <span class="badge rounded-pill badge-soft">WRF</span>
            </div>
          </div>

          <!-- IMAGE: DARK + COVER -->
          <div class="card-image-wrapper is-cover mt-2 mb-3">
            <img class="card-image-inner" src="/static/cards/coming-soon.png" alt="Coming soon preview">
          </div>

          <div class="muted">
            City-scale experiments including <b>flash-flood channels (arroyos)</b> awareness and precipitation-driven risk context.
          </div>
        </div>
      </div>

    </div>

    <div class="mt-5 muted small text-center">
      Learn-DA · FastAPI · PyTEDA · Forecasting with WRF (planned)
    </div>

  </div>

  <!-- Your JS -->
  <script src="/static/app.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
